长期和短期练习
在本练习中，您将学习如何使用 Aave V3 创建多头和空头头寸。

本练习的起始代码位于foundry/src/exercises/LongShort.sol

解决方案提供于foundry/src/solutions/LongShort.sol

任务 1 - 开立多头或空头仓位
函数 打开（OpenParams内存参数）
    民众
    返回（uint256 collat​​eralAmountOut）
{
    // 任务 1.1 - 检查 params.minHealthFactor 是否大于 1e18
​
    // 任务 1.2 - 从 msg.sender 转移抵押品
​
    // 任务 1.3
    // - 批准并向 Aave 提供抵押品
    // - 发送 aToken 给 msg.sender
​
    // 任务 1.4
    // - 从 Aave 借入代币
    // - 代表 msg.sender 借用
​
    // 任务 1.5 - 检查 msg.sender 的健康因素是否 > params.minHealthFactor
​
    // 任务 1.6
    // - 将借入代币兑换为抵押代币
    // - 将交换后的令牌发送给 msg.sender
}
实现open将抵押代币存入 Aave、借入另一个代币然后将其兑换成更多抵押代币的功能。

提示：

调用内部函数Aave和Swap合约

任务 2 - 平仓多头或空头仓位
函数 关闭（CloseParams内存参数）
    民众
    返回（
        uint256抵押品已提取，
        uint256债务RepaidFromMsgSender，
        uint256借用剩余
    ）
{
    // 任务 2.1 - 将抵押品从 msg.sender 转移到此合约
​
    // 任务 2.2 - 将抵押品兑换为借入代币
​
    // 任务 2.3
    // - 偿还借来的代币
    // - 偿还金额是当前债务和 params.maxDebtToRepay 中的最小值
    // - 如果偿还金额大于交换金额，
    // 然后从 msg.sender 转移差额
​
    // 任务 2.4 - 提取抵押品给 msg.sender
​
    // 任务 2.5 - 转账利润 = 兑换金额 - 偿还金额
​
    // 任务 2.6 - 退还提取的抵押品金额，
    // 偿还债务并平仓获利
}
实现close从 转移抵押代币msg.sender、将其与借入代币进行交换、偿还 Aave 债务并提取抵押品并从该策略中获利的功能。

提示：

调用内部函数Aave和Swap合约

测试
伪造测试--fork-url $FORK_URL --fork-block-number $FORK_BLOCK_NUM --match-path test/LongShort.test.sol -vvv
