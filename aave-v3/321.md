Flash练习
在本练习中，您将学习如何清算 Aave V3 的抵押不足债务。

本练习的起始代码位于foundry/src/exercises/Flash.sol

解决方案提供于foundry/src/solutions/Flash.sol

任务 1 - 发起闪电贷
函数 flash (地址token, uint256金额) public  {}
启动闪电贷

token是借用的代币

amount借款金额

提示

称呼pool.flashLoanSimple

ABI 编码msg.sender并将其作为输入传递给params

任务 2 - 偿还闪电贷
函数 执行操作（
    地址资产，
    uint256金额，
    uint256费用，
    地址发起者，
    字节 调用数据参数
)公共 回报( bool ) {
    // 任务 2.1 - 检查 msg.sender 是否是池合约
​
    // 任务 2.2 - 检查发起者是否是该合约
​
    // 任务 2.3 - 从参数中解码调用者并传输
    // 来自该调用者的闪电贷费用
​
    // 任务 2.4 - 批准池使用闪电贷金额 + 费用
​
    // 任务 2.5 - 返回 true
}
实现Aave调用的回调函数。

提示

ABI 解码params并从调用者处转移已编码的闪电贷费用params

测试
伪造测试--fork-url $FORK_URL --fork-block-number $FORK_BLOCK_NUM --match-path test/Flash.test.sol -vvv
