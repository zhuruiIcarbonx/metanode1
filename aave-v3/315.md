撤回练习
在本练习中，您将学习如何从 Aave V3 中提取作为流动性或抵押品提供的代币。

本练习的起始代码位于foundry/src/exercises/Withdraw.sol

解决方案提供于foundry/src/solutions/Withdraw.sol

任务1-获取本合约的aToken余额
// aToken余额是该合约持有的底层代币数量
// 可以撤回
函数 getSupplyBalance (地址token )公共 视图 返回( uint256 ) {
    // 任务 1.1 - 从池合约中获取 aToken 地址
    // 任务 1.2 - 获取此合约拥有的 aToken 余额
}
获取此合约的aToken余额

提示

调用pool.getReserveData获取AToken地址

本合约拥有的AToken调用余额

任务 2 - 从 Aave V3 中提取所有底层代币
函数 提取（地址令牌）公共 返回（uint256） {
    // 任务 2.1 - 从 Aave V3 中提取所有底层代币
    // 任务 2.2 - 返回提取的金额
}
退出tokenAave V3

token是代币提取

提示

指定type(uint256).max提取金额以提取所有底层代币

致电pool.withdraw撤回

测试
伪造测试--fork-url $FORK_URL --fork-block-number $FORK_BLOCK_NUM --match-path test/Withdraw.test.sol -vvv
