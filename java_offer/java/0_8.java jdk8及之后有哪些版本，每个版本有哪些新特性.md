# 一、java jdk8及之后有哪些版本，每个版本有哪些新特性

Java JDK 8 及之后的版本遵循 Oracle 的发布周期，从 JDK 8 开始，Java 进入了快速发布时代（自 JDK 9 起每 6 个月发布一个版本）。以下是 JDK 8 及之后的主要版本及其核心新特性概览（截至当前时间：2025 年 11 月）：

---

### **1. JDK 8（2014 年 3 月发布）**
**特性（里程碑版本，影响深远）：**
- **Lambda 表达式**：支持函数式编程，简化匿名内部类的写法。
- **Stream API**：提供对集合的函数式操作（map、filter、reduce 等）。
- **默认方法（Default Methods）**：允许在接口中定义默认实现，便于接口演进。
- **Optional 类**：用于避免空指针异常，更好地处理 null 值。
- **新的日期时间 API（java.time）**：引入 `LocalDateTime`、`ZonedDateTime` 等，替代老旧的 `Date` 和 `Calendar`。
- **Nashorn JavaScript 引擎**：内置轻量级 JS 引擎。
- **重复注解（Repeatable Annotations）**：允许同一个注解在同位置重复使用。
- **方法引用（Method References）**：简化 Lambda 表达式写法（如 `String::length`）。

---

### **2. JDK 9（2017 年 9 月发布）**
- **模块化系统（Jigsaw 项目）**：引入 `module-info.java`，实现模块化打包与依赖管理。
- **JShell**：交互式 REPL 工具，用于快速测试代码片段。
- **接口私有方法**：支持在接口中定义私有方法，复用代码。
- **集合工厂方法**：`List.of()`、`Set.of()`、`Map.of()` 等便捷创建不可变集合。
- **改进的 Stream API**：新增 `takeWhile`、`dropWhile`、`iterate` 重载等。
- **HTTP/2 客户端（孵化阶段）**：新 `HttpClient` 支持 HTTP/2 和 WebSocket（在后续版本成熟）。

---

### **3. JDK 10（2018 年 3 月发布）**
- **局部变量类型推断（var）**：`var list = new ArrayList<String>();`（仅限局部变量）。
- **G1 垃圾回收器并行 Full GC**：提升 G1 性能。
- **统一 GC 接口**：为后续 GC 插件化打基础。
- **应用类数据共享（AppCDS）**：提升启动速度，减少内存占用。

---

### **4. JDK 11（2018 年 9 月发布，LTS 长期支持版本）**
- **新的 HTTP 客户端（正式版）**：`HttpClient` 支持同步/异步、HTTP/2。
- **移除 Java EE 和 CORBA 模块**：精简 JDK。
- **ZGC（Z Garbage Collector）**：低延迟 GC（实验性，后续版本成熟）。
- **Epsilon GC**：无操作 GC，用于性能测试。
- **字符串增强**：`isBlank()`、`lines()`、`strip()` 等。
- **文件操作便捷方法**：`Files.readString()`、`Files.writeString()`（一次性读写）。
- **Lambda 参数局部变量语法**：`var` 用于 Lambda（如 `(var x, var y) -> x + y`）。

---

### **5. JDK 12（2019 年 3 月发布）**
- **Switch 表达式（预览）**：支持 `->` 语法和返回值（如 `yield`）。
- **JVM 常量 API（预览）**：标准化常量模型。
- **G1 及时返回未使用内存**：提升空闲时内存释放效率。

---

### **6. JDK 13（2019 年 9 月发布）**
- **Switch 表达式（二次预览）**：优化语法。
- **文本块（Text Blocks，预览）**：多行字符串（`"""..."""`）。
- **ZGC 可伸缩性提升**：支持最大堆达 16TB。
- **动态 CDS 归档**：简化类数据共享使用。

---

### **7. JDK 14（2020 年 3 月发布）**
- **Switch 表达式（正式）**：支持 `yield` 返回值。
- **文本块（预览）**：多行字符串支持转义控制。
- **记录类（Records，预览）**：`record Point(int x, int y)` 自动生成 `equals`、`hashCode`、`toString` 等。
- **模式匹配 instanceof（预览）**：`if (obj instanceof String s)`。
- **打包工具（jpackage）**：将 Java 应用打包为原生安装包（exe、dmg 等）。

---

### **8. JDK 15（2020 年 9 月发布）**
- **文本块（正式）**：支持 `"""` 多行字符串。
- **记录类（二次预览）**：增强模式匹配支持。
- **密封类（Sealed Classes，预览）**：限制类或接口的子类（`sealed` + `permits`）。
- **ZGC 和 Shenandoah GC 正式支持**：低延迟 GC 可用于生产环境。

---

### **9. JDK 16（2021 年 3 月发布）**
- **记录类（正式）**：`record` 成为正式特性。
- **模式匹配 instanceof（正式）**：无需显式类型转换。
- **密封类（预览）**：继续优化。
- **向量 API（孵化）**：用于 SIMD 计算（高性能计算）。
- **Unix 域套接字通道**：支持本地进程通信。

---

### **10. JDK 17（2021 年 9 月发布，LTS 长期支持版本）**
- **密封类（正式）**：`sealed`、`non-sealed`、`final` 控制继承。
- **弃用 Applet API**：正式标记为过时。
- **移除 Nashorn JavaScript 引擎**：推荐使用 GraalVM。
- **强封装 JDK 内部 API**：默认强封装 `sun.misc.Unsafe` 等。
- **新 macOS 渲染管道**：支持 Apple Silicon（M1）。
- **随机数生成器 API**：统一接口 `RandomGenerator`。

---

### **11. JDK 18（2022 年 3 月发布）**
- **默认 UTF-8 编码**：系统默认字符集改为 UTF-8。
- **Simple Web Server**：命令行启动简易 HTTP 服务器（`jwebserver`）。
- **Vector API（二次孵化）**：继续优化。

---

### **12. JDK 19（2022 年 9 月发布）**
- **虚拟线程（Virtual Threads，预览）**：Project Loom 的核心，实现轻量级线程（`Thread.startVirtualThread()`）。
- **结构化并发（预览）**：简化多线程错误处理与取消。
- **Vector API（三次孵化）**。

---

### **13. JDK 20（2023 年 3 月发布）**
- **虚拟线程（二次预览）**：增强调试与监控支持。
- **记录模式（Record Patterns，预览）**：解构 record 类型。
- **switch 模式匹配（预览）**：支持模式匹配 case。
- **Vector API（四次孵化）**。

---

### **14. JDK 21（2023 年 9 月发布，LTS 长期支持版本）**
- **虚拟线程（正式）**：`Thread.ofVirtual().start()`，极大提升高并发性能。
- **结构化并发（正式）**：`StructuredTaskScope` 简化并发编程。
- **记录模式（正式）**：`if (obj instanceof Point(int x, int y))`。
- **switch 模式匹配（正式）**：支持多种模式组合。
- **序列化集合（Sequenced Collections）**：统一有序集合接口（`SequencedCollection`、`SequencedMap`）。
- **未命名类与实例 main 方法（预览）**：简化初学者代码（如单文件直接运行）。
- **ZGC 并发类卸载**：进一步降低停顿时间。

---

### **15. JDK 22（2024 年 3 月发布）**
- **未命名类与实例 main 方法（二次预览）**：支持 `main` 方法自动生成。
- **语言预览特性增强**：如更灵活的 pattern matching。
- **JVM 改进**：提升性能与诊断能力。
- **Foreign Function & Memory API（正式）**：替代 JNI，安全高效调用本地代码。

---

### **总结：LTS 版本**
目前推荐使用的长期支持（LTS）版本为：
- **JDK 8**（仍广泛使用）
- **JDK 11**
- **JDK 17**
- **JDK 21**（最新 LTS，推荐新项目使用）

后续 LTS 版本预计为 **JDK 25**（2025 年 9 月发布）。

> 提示：生产环境建议使用 LTS 版本，新特性可逐步在开发中尝试。


# 一、java jdk8及之后有哪些版本，每个版本有哪些新特性

# Java JDK 8之后的主要版本及新特性概览

## JDK 8 (2014年3月)
- **Lambda表达式**：函数式编程支持
- **Stream API**：集合操作的流式处理
- **默认方法**：接口中可以定义默认实现
- **新的日期时间API** (java.time包)
- **Nashorn JavaScript引擎**：替代Rhino
- **方法引用**：简化Lambda表达式

## JDK 9 (2017年9月)
- **模块系统(Jigsaw项目)**：模块化Java平台
- **JShell**：交互式REPL工具
- **集合工厂方法**：List.of(), Set.of(), Map.of()
- **私有接口方法**：接口中可以定义私有方法
- **改进的Stream API**：takeWhile, dropWhile等方法
- **HTTP/2客户端**(孵化器模块)

## JDK 10 (2018年3月)
- **局部变量类型推断(var)**：简化局部变量声明
- **并行全GC**：G1垃圾收集器的并行化
- **应用类数据共享(CDS)**：改进启动性能
- **线程本地握手**：在不执行全局VM安全点的情况下对线程执行回调

## JDK 11 (LTS, 2018年9月)
- **本地变量语法扩展**：Lambda参数也可使用var
- **HTTP客户端API标准化**：java.net.http
- **Epsilon垃圾收集器**：不做实际垃圾回收的实验性GC
- **启动单文件源码程序**：无需先编译
- **移除Java EE和CORBA模块**
- **ZGC(实验性)**：可扩展的低延迟垃圾收集器

## JDK 12 (2019年3月)
- **Switch表达式(预览)**：简化switch语法
- **Shenandoah GC(实验性)**：低停顿GC
- **Microbenchmark Suite**：JDK源码基准测试
- **JVM常量API**：核心反射API扩展

## JDK 13 (2019年9月)
- **文本块(预览)**：简化多行字符串处理
- **重新实现Socket API**：更简洁高效的实现
- **动态CDS存档**：扩展JDK 10的类数据共享
- **ZGC增强**：支持未提交内存返回系统

## JDK 14 (2020年3月)
- **Switch表达式(标准)**：JDK 12预览特性的标准化
- **记录类(预览)**：简化不可变数据类的定义
- **文本块(第二次预览)**
- **NPE改进**：明确指示null来自哪个变量
- **ZGC增强**：支持macOS和Windows

## JDK 15 (2020年9月)
- **文本块(标准)**：成为正式特性
- **密封类(预览)**：限制类的可继承性
- **隐藏类**：框架使用的不可发现类
- **ZGC增强**：不再实验性
- **Shenandoah GC**：不再实验性

## JDK 16 (2021年3月)
- **记录类(标准)**：成为正式特性
- **模式匹配instanceof(标准)**
- **Unix域套接字通道**：替代本地套接字
- **向量API(孵化器)**：SIMD向量运算
- **ZGC并发线程处理增强**

## JDK 17 (LTS, 2021年9月)
- **密封类(标准)**：成为正式特性
- **上下文特定反序列化过滤器**
- **switch模式匹配(预览)**
- **移除实验性AOT和JIT编译器**
- **RMI激活机制废弃**

## JDK 18 (2022年3月)
- **UTF-8成为默认字符集**
- **简单Web服务器**：命令行工具
- **代码片段**：JavaDoc中引入@snip标签
- **方法句柄增强**：优化处理方式

## JDK 19 (2022年9月)
- **虚拟线程(预览)**：Project Loom的第一阶段
- **结构化并发(孵化器)**：简化多线程编程
- **模式匹配switch(第二次预览)**
- **外部函数和内存API(预览)**：与本地代码交互

## JDK 20 (2023年3月)
- **虚拟线程(第二次预览)**
- **Scoped Values(孵化器)**：跨线程共享不可变数据
- **记录模式(预览)**：解构记录对象
- **结构化并发(第二次孵化)**

## JDK 21 (LTS, 2023年9月)
- **虚拟线程**(正式特性)
- **记录模式**(正式特性)
- **字符串模板(预览)**
- **序列集合**
- **分代ZGC**

注意：LTS(长期支持)版本(如8,11,17,21)通常会获得更长时间的支持和维护。最新的版本可能包含更多特性，具体使用时建议参考Oracle官方发布说明。
